<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="The salsa crate is a crate for incremental recomputation.  It permits you to define a “database” of queries with both inputs and values derived from those inputs; as you set the inputs, you can re-execute the derived queries and it will try to re-use results from previous invocations as appropriate."><title>salsa - Rust</title><link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/SourceSerif4-Regular-46f98efaafac5295.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/FiraSans-Regular-018c141bf0843ffd.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/FiraSans-Medium-8f9a781e4970d388.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/SourceCodePro-Regular-562dcc5011b6de7d.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/SourceCodePro-Semibold-d899c5a5c4aeb14a.ttf.woff2"><link rel="stylesheet" href="../static.files/normalize-76eba96aa4d2e634.css"><link rel="stylesheet" href="../static.files/rustdoc-ac92e1bbe349e143.css"><meta name="rustdoc-vars" data-root-path="../" data-static-root-path="../static.files/" data-current-crate="salsa" data-themes="" data-resource-suffix="" data-rustdoc-version="1.76.0 (07dca489a 2024-02-04)" data-channel="1.76.0" data-search-js="search-2b6ce74ff89ae146.js" data-settings-js="settings-4313503d2e1961c2.js" ><script src="../static.files/storage-f2adc0d6ca4d09fb.js"></script><script defer src="../crates.js"></script><script defer src="../static.files/main-305769736d49e732.js"></script><noscript><link rel="stylesheet" href="../static.files/noscript-feafe1bb7466e4bd.css"></noscript><link rel="alternate icon" type="image/png" href="../static.files/favicon-16x16-8b506e7a72182f1c.png"><link rel="alternate icon" type="image/png" href="../static.files/favicon-32x32-422f7d1d52889060.png"><link rel="icon" type="image/svg+xml" href="../static.files/favicon-2c020d218678b618.svg"></head><body class="rustdoc mod crate"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="mobile-topbar"><button class="sidebar-menu-toggle">&#9776;</button></nav><nav class="sidebar"><div class="sidebar-crate"><h2><a href="../salsa/index.html">salsa</a><span class="version">0.0.0</span></h2></div><div class="sidebar-elems"><ul class="block">
            <li><a id="all-types" href="all.html">All Items</a></li></ul><section><ul class="block"><li><a href="#modules">Modules</a></li><li><a href="#macros">Macros</a></li><li><a href="#structs">Structs</a></li><li><a href="#enums">Enums</a></li><li><a href="#traits">Traits</a></li><li><a href="#attributes">Attribute Macros</a></li></ul></section></div></nav><div class="sidebar-resizer"></div>
    <main><div class="width-limiter"><nav class="sub"><form class="search-form"><span></span><div id="sidebar-button" tabindex="-1"><a href="../salsa/all.html" title="show sidebar"></a></div><input class="search-input" name="search" aria-label="Run search in the documentation" autocomplete="off" spellcheck="false" placeholder="Click or press ‘S’ to search, ‘?’ for more options…" type="search"><div id="help-button" tabindex="-1"><a href="../help.html" title="help">?</a></div><div id="settings-menu" tabindex="-1"><a href="../settings.html" title="settings"><img width="22" height="22" alt="Change settings" src="../static.files/wheel-7b819b6101059cd0.svg"></a></div></form></nav><section id="main-content" class="content"><div class="main-heading"><h1>Crate <a class="mod" href="#">salsa</a><button id="copy-path" title="Copy item path to clipboard"><img src="../static.files/clipboard-7571035ce49a181d.svg" width="19" height="18" alt="Copy item path"></button></h1><span class="out-of-band"><a class="src" href="../src/salsa/lib.rs.html#1-741">source</a> · <button id="toggle-all-docs" title="collapse all docs">[<span>&#x2212;</span>]</button></span></div><details class="toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><p>The salsa crate is a crate for incremental recomputation.  It
permits you to define a “database” of queries with both inputs and
values derived from those inputs; as you set the inputs, you can
re-execute the derived queries and it will try to re-use results
from previous invocations as appropriate.</p>
</div></details><h2 id="modules" class="section-header"><a href="#modules">Modules</a></h2><ul class="item-table"><li><div class="item-name"><a class="mod" href="debug/index.html" title="mod salsa::debug">debug</a></div><div class="desc docblock-short">Debugging APIs: these are meant for use when unit-testing or
debugging your application but aren’t ordinarily needed.</div></li></ul><h2 id="macros" class="section-header"><a href="#macros">Macros</a></h2><ul class="item-table"><li><div class="item-name"><a class="macro" href="macro.impl_intern_value_trivial.html" title="macro salsa::impl_intern_value_trivial">impl_intern_value_trivial</a></div><div class="desc docblock-short">Implement <a href="trait.InternValue.html" title="trait salsa::InternValue"><code>InternValue</code></a> trivially, that is without actually mapping at all.</div></li></ul><h2 id="structs" class="section-header"><a href="#structs">Structs</a></h2><ul class="item-table"><li><div class="item-name"><a class="struct" href="struct.Cycle.html" title="struct salsa::Cycle">Cycle</a></div><div class="desc docblock-short">Captures the participants of a cycle that occurred when executing a query.</div></li><li><div class="item-name"><a class="struct" href="struct.DatabaseKeyIndex.html" title="struct salsa::DatabaseKeyIndex">DatabaseKeyIndex</a></div><div class="desc docblock-short">An integer that uniquely identifies a particular query instance within the
database. Used to track dependencies between queries. Fully ordered and
equatable but those orderings are arbitrary, and meant to be used only for
inserting into maps and the like.</div></li><li><div class="item-name"><a class="struct" href="struct.Durability.html" title="struct salsa::Durability">Durability</a></div><div class="desc docblock-short">Describes how likely a value is to change – how “durable” it is.
By default, inputs have <code>Durability::LOW</code> and interned values have
<code>Durability::HIGH</code>. But inputs can be explicitly set with other
durabilities.</div></li><li><div class="item-name"><a class="struct" href="struct.Event.html" title="struct salsa::Event">Event</a></div><div class="desc docblock-short">The <code>Event</code> struct identifies various notable things that can
occur during salsa execution. Instances of this struct are given
to <code>salsa_event</code>.</div></li><li><div class="item-name"><a class="struct" href="struct.InternId.html" title="struct salsa::InternId">InternId</a></div><div class="desc docblock-short">The “raw-id” is used for interned keys in salsa – it is basically
a newtype’d u32. Typically, it is wrapped in a type of your own
devising. For more information about interned keys, see <a href="https://github.com/salsa-rs/salsa-rfcs/pull/2">the
interned key RFC</a>.</div></li><li><div class="item-name"><a class="struct" href="struct.QueryTable.html" title="struct salsa::QueryTable">QueryTable</a></div><div class="desc docblock-short">Return value from <a href="trait.Database.html#method.query">the <code>query</code> method</a> on <code>Database</code>.
Gives access to various less common operations on queries.</div></li><li><div class="item-name"><a class="struct" href="struct.QueryTableMut.html" title="struct salsa::QueryTableMut">QueryTableMut</a></div><div class="desc docblock-short">Return value from <a href="trait.Database.html#method.query_mut">the <code>query_mut</code> method</a> on <code>Database</code>.
Gives access to the <code>set</code> method, notably, that is used to
set the value of an input query.</div></li><li><div class="item-name"><a class="struct" href="struct.Revision.html" title="struct salsa::Revision">Revision</a></div><div class="desc docblock-short">A unique identifier for the current version of the database; each
time an input is changed, the revision number is incremented.
<code>Revision</code> is used internally to track which values may need to be
recomputed, but is not something you should have to interact with
directly as a user of salsa.</div></li><li><div class="item-name"><a class="struct" href="struct.Runtime.html" title="struct salsa::Runtime">Runtime</a></div><div class="desc docblock-short">The salsa runtime stores the storage for all queries as well as
tracking the query stack and dependencies between cycles.</div></li><li><div class="item-name"><a class="struct" href="struct.RuntimeId.html" title="struct salsa::RuntimeId">RuntimeId</a></div><div class="desc docblock-short">A unique identifier for a particular runtime. Each time you create
a snapshot, a fresh <code>RuntimeId</code> is generated. Once a snapshot is
complete, its <code>RuntimeId</code> may potentially be re-used.</div></li><li><div class="item-name"><a class="struct" href="struct.Snapshot.html" title="struct salsa::Snapshot">Snapshot</a></div><div class="desc docblock-short">Simple wrapper struct that takes ownership of a database <code>DB</code> and
only gives <code>&amp;self</code> access to it. See <a href="trait.ParallelDatabase.html#method.snapshot">the <code>snapshot</code> method</a>
for more details.</div></li><li><div class="item-name"><a class="struct" href="struct.Storage.html" title="struct salsa::Storage">Storage</a></div><div class="desc docblock-short">Stores the cached results and dependency information for all the queries
defined on your salsa database. Also embeds a <a href="struct.Runtime.html" title="struct salsa::Runtime"><code>Runtime</code></a> which is used to
manage query execution. Every database must include a <code>storage: Storage&lt;Self&gt;</code> field.</div></li></ul><h2 id="enums" class="section-header"><a href="#enums">Enums</a></h2><ul class="item-table"><li><div class="item-name"><a class="enum" href="enum.Cancelled.html" title="enum salsa::Cancelled">Cancelled</a></div><div class="desc docblock-short">A panic payload indicating that execution of a salsa query was cancelled.</div></li><li><div class="item-name"><a class="enum" href="enum.EventKind.html" title="enum salsa::EventKind">EventKind</a></div><div class="desc docblock-short">An enum identifying the various kinds of events that can occur.</div></li></ul><h2 id="traits" class="section-header"><a href="#traits">Traits</a></h2><ul class="item-table"><li><div class="item-name"><a class="trait" href="trait.Database.html" title="trait salsa::Database">Database</a></div><div class="desc docblock-short">The base trait which your “query context” must implement. Gives
access to the salsa runtime, which you must embed into your query
context (along with whatever other state you may require).</div></li><li><div class="item-name"><a class="trait" href="trait.InternKey.html" title="trait salsa::InternKey">InternKey</a></div><div class="desc docblock-short">Trait implemented for the “key” that results from a
<code>#[salsa::intern]</code> query.  This is basically meant to be a
“newtype”’d <code>u32</code>.</div></li><li><div class="item-name"><a class="trait" href="trait.InternValue.html" title="trait salsa::InternValue">InternValue</a></div><div class="desc docblock-short">Trait implemented for the “value” that is being interned.</div></li><li><div class="item-name"><a class="trait" href="trait.ParallelDatabase.html" title="trait salsa::ParallelDatabase">ParallelDatabase</a></div><div class="desc docblock-short">Indicates a database that also supports parallel query
evaluation. All of Salsa’s base query support is capable of
parallel execution, but for it to work, your query key/value types
must also be <code>Send</code>, as must any additional data in your database.</div></li><li><div class="item-name"><a class="trait" href="trait.Query.html" title="trait salsa::Query">Query</a></div><div class="desc docblock-short">Trait implements by all of the “special types” associated with
each of your queries.</div></li><li><div class="item-name"><a class="trait" href="trait.QueryDb.html" title="trait salsa::QueryDb">QueryDb</a></div><div class="desc docblock-short">Trait implements by all of the “special types” associated with
each of your queries.</div></li></ul><h2 id="attributes" class="section-header"><a href="#attributes">Attribute Macros</a></h2><ul class="item-table"><li><div class="item-name"><a class="attr" href="attr.database.html" title="attr salsa::database">database</a></div><div class="desc docblock-short">This attribute is placed on your database struct. It takes a list of the
query groups that your database supports. The format looks like so:</div></li><li><div class="item-name"><a class="attr" href="attr.query_group.html" title="attr salsa::query_group">query_group</a></div><div class="desc docblock-short">The decorator that defines a salsa “query group” trait. This is a
trait that defines everything that a block of queries need to
execute, as well as defining the queries themselves that are
exported for others to use.</div></li></ul></section></div></main></body></html>